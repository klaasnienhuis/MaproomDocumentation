

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Height &mdash; Maproom 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Stylesheet" href="Stylesheet.html" />
    <link rel="prev" title="Location" href="Location.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Maproom
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="BasicConcepts.html">Basic Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="MapPresets.html">Map Presets</a></li>
<li class="toctree-l1"><a class="reference internal" href="MapLayers.html">Map Layers</a></li>
<li class="toctree-l1"><a class="reference internal" href="MapHelpers.html">Map Helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Space.html">Map Space</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tools.html">Map Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Location.html">Location</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Height</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#terrain-resolution">Terrain resolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="#source-data">Source data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mesh-density">Mesh density</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Stylesheet.html">Stylesheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Settings.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="survey.html">Survey</a></li>
<li class="toctree-l1"><a class="reference internal" href="Version.html">Version requirement</a></li>
<li class="toctree-l1"><a class="reference internal" href="History.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="About.html">About</a></li>
</ul>
<p class="caption"><span class="caption-text">Map layer types</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="layers/Satellite.html">Satellite</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers/Ripple.html">Ripple</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers/Openstreetmap.html">Openstreetmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers/Shapefile.html">Shapefile</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers/KML.html">KML</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers/CC3D.html">CyberCity 3D, Inc. (CC3D)</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers/Measure.html">Measure path</a></li>
</ul>
<p class="caption"><span class="caption-text">Map projection</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mapprojection/Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapprojection/Mercator.html">Mercator</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapprojection/UTM.html">UTM</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapprojection/EquidistantCylindrical.html">Equidistant Cylindrical</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapprojection/CylindricEqualArea.html">Cylindric Equal Area</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapprojection/Mollweide.html">Mollweide</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapprojection/KavrayskiyVII.html">Kavrayskiy VII</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapprojection/GallStereographic.html">Gall Stereographic</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="testing/mxs.html">Testing MaxScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing/CS.html">Testing .NET</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Maproom</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Height</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Height.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="height">
<span id="id1"></span><h1>Height<a class="headerlink" href="#height" title="Permalink to this headline">¶</a></h1>
<p>Heights can be loaded into a map based on data sources as well. Previously (until January 2017) there were two static datasets: SRTM3 and SRTM1. Currently there are two dynamic datasets provided by Mapbox and Mapzen. The new elevation data has zoomlevels which means you can get terrain heights for any map size: from city to continent.</p>
<p>You can add terrain heights to a satellite map by picking one of the two items from the <code class="docutils literal notranslate"><span class="pre">Terrain</span> <span class="pre">heights</span></code> dropdown. Pick a zoomlevel or use the <code class="docutils literal notranslate"><span class="pre">Estimate</span> <span class="pre">zoomlevel</span></code> button. Make sure you have a valid API key entered for Mapbox or Mapzen. Read more about API keys here: <a class="reference internal" href="Settings.html#mapapikey"><span class="std std-ref">Map API key</span></a></p>
<div class="figure align-default">
<img alt="_images/MPR_2017-10-06_2741.png" src="_images/MPR_2017-10-06_2741.png" />
</div>
<p><em>The terrain height section</em></p>
<iframe width="700" height="525" src="https://www.youtube.com/embed/ZFcteTIk_GU" frameborder="0" allowfullscreen></iframe><p><em>Using terrain heights on multiple scales</em></p>
<div class="section" id="terrain-resolution">
<h2>Terrain resolution<a class="headerlink" href="#terrain-resolution" title="Permalink to this headline">¶</a></h2>
<p>Similar to the regular image sources for satellite maps, the terrain resolution can be altered by changing the zoomlevel. You can specify the zoomlevel of the terrain heights separately from the map images. It also means you can overdo it by picking a zoom level which is too high, meaning long waits and long processing times. The terrain heights are packed into a 16 bit displacement map, they can get heavy!</p>
<p>The huge advantage of the new terrain heights over the SRTM datasets is that they can be zoomed. This means you can make a map with terrain heights at large or small scales: continents and cities. The highest zoomlevel of both the Mapbox and Mapzen data is based on SRTM though. They go to zoomlevel 14 or 15.</p>
<p>Here’s a series of images of Port-au-Prince rendered at 1200px with Mapbox light map images and Mapzen terrain heights. The terrain heights have been exhaggerated in the larger scale images. You can do this yourself by changing the displacement value on the map object in the scene. The default height is 65 when working in km.</p>
<div class="figure align-default">
<img alt="_images/5000km_6x.png" src="_images/5000km_6x.png" />
</div>
<p><em>5000*5000 km, heights multiplied 6 times</em></p>
<div class="figure align-default">
<img alt="_images/1500km_3x.png" src="_images/1500km_3x.png" />
</div>
<p><em>1500*1500 km, heights multiplied 3 times</em></p>
<div class="figure align-default">
<img alt="_images/0400km_2x.png" src="_images/0400km_2x.png" />
</div>
<p><em>400*400 km, heights multiplied 2 times</em></p>
<div class="figure align-default">
<img alt="_images/0100km_1x.png" src="_images/0100km_1x.png" />
</div>
<p><em>100*100 km, actual heights</em></p>
<div class="figure align-default">
<img alt="_images/0025km_1x.png" src="_images/0025km_1x.png" />
</div>
<p><em>25*25 km, actual heights</em></p>
<div class="figure align-default">
<img alt="_images/0005km_1x.png" src="_images/0005km_1x.png" />
</div>
<p><em>5*5 km, actual heights. This is about the maximum detail you can get out of the terrain heights.</em></p>
<p>Each map uses a displacement map of about 1300 pixels regardless of the size of the map in km. As long as you pick an appropriate zoomlevel, loading a new displacement map shouldn’t take much time.</p>
<p>The following attributions are for the above images</p>
<p>©Mapbox ©OpenStreetMap <a class="reference external" href="https://www.mapbox.com/about/maps/">https://www.mapbox.com/about/maps/</a>, Improve this map <a class="reference external" href="https://www.mapbox.com/map-feedback/">https://www.mapbox.com/map-feedback/</a></p>
<p>Mapzen terrain tiles contain 3DEP, SRTM, and GMTED2010 content courtesy of the U.S. Geological Survey and ETOPO1 content courtesy of U.S. National Oceanic and Atmospheric Administration. The fine print: <a class="reference external" href="https://mapzen.com/documentation/terrain-tiles/attribution/#the-fine-print">https://mapzen.com/documentation/terrain-tiles/attribution/#the-fine-print</a></p>
</div>
<div class="section" id="source-data">
<h2>Source data<a class="headerlink" href="#source-data" title="Permalink to this headline">¶</a></h2>
<p>Both Mapbox and Mapzen use publicly available data in their terrain heights. Mapzen also includes bathymetry (stuff underneath the sea surface). In the examples it’s visible that the resolution of the bathymetry is different than the detail on land. For instance the image of the 400*400 km area has sharp mountains on the island and dull elevation at sea.</p>
<p><a class="reference external" href="https://mapzen.com/documentation/terrain-tiles/data-sources/">Here’s info on what data Mapzen uses</a>. <a class="reference external" href="https://www.mapbox.com/about/maps/">And here’s what Mapbox uses</a>. You need to scroll down a bit to the Mapbox terrain section.</p>
</div>
<div class="section" id="mesh-density">
<h2>Mesh density<a class="headerlink" href="#mesh-density" title="Permalink to this headline">¶</a></h2>
<p>The level of detail in the terrain not only depends on the size and resolution of the displacement map but also on the density of the mesh. The map object is basically a plane with a turbosmooth modifier applied. By default the turbosmooth iterations value is set to a level relative to the size of your map. If you have a big map, the mesh is subdivided less than when you have a small map. This avoids crashing max by using unrealistic turbosmooth values.</p>
<p>You can finetune the mesh density by using the <code class="docutils literal notranslate"><span class="pre">`Terrain</span> <span class="pre">mesh</span> <span class="pre">density`</span></code> slider. This sets the number of segments on the map plane. You can also manually go into the map object and alter the turbosmooth subdivisions.</p>
<div class="figure align-default">
<img alt="_images/MPR_2016-10-03_2141.png" src="_images/MPR_2016-10-03_2141.png" />
</div>
<p><em>Finetune the terrain mesh density</em></p>
<p>Here’s a series of renders of the same terrain with increasing detail (i.e. decreasing subdivision). Each render uses the same SRTM1 terrain and displacement map of about 4800*4800 pixels.</p>
<div class="figure align-default">
<img alt="_images/MPR_Etna_SRTM1_10.jpg" src="_images/MPR_Etna_SRTM1_10.jpg" />
</div>
<p><em>Terrain mesh density: 10</em></p>
<div class="figure align-default">
<img alt="_images/MPR_Etna_SRTM1_25.jpg" src="_images/MPR_Etna_SRTM1_25.jpg" />
</div>
<p><em>Terrain mesh density: 25</em></p>
<div class="figure align-default">
<img alt="_images/MPR_Etna_SRTM1_40.jpg" src="_images/MPR_Etna_SRTM1_40.jpg" />
</div>
<p><em>Terrain mesh density: 40</em></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Stylesheet.html" class="btn btn-neutral float-right" title="Stylesheet" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Location.html" class="btn btn-neutral float-left" title="Location" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, Klaas Nienhuis

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>