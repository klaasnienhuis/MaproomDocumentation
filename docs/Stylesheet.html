

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Stylesheet &mdash; Maproom 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Maproom 1.0 documentation" href="index.html"/>
        <link rel="next" title="Installation" href="Installation.html"/>
        <link rel="prev" title="Height" href="Height.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Maproom
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="BasicConcepts.html">Basic Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="MapPresets.html">Map Presets</a></li>
<li class="toctree-l1"><a class="reference internal" href="MapLayers.html">Map Layers</a></li>
<li class="toctree-l1"><a class="reference internal" href="MapHelpers.html">Map Helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Space.html">Map Space</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tools.html">Map Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Location.html">Location</a></li>
<li class="toctree-l1"><a class="reference internal" href="Height.html">Height</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Stylesheet</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#system-and-user-styles">System and user styles</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-a-style">Create a style</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mass">Mass</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stroke">Stroke</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fill">Fill</a></li>
<li class="toctree-l3"><a class="reference internal" href="#skip">Skip</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#video">Video</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Settings.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="Version.html">Version requirement</a></li>
<li class="toctree-l1"><a class="reference internal" href="History.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="About.html">About</a></li>
</ul>
<p class="caption"><span class="caption-text">Map layer types</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="layers/Satellite.html">Satellite</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers/Ripple.html">Ripple</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers/Openstreetmap.html">Openstreetmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers/Shapefile.html">Shapefile</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers/KML.html">KML</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers/CC3D.html">CyberCity 3D, Inc. (CC3D)</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers/Measure.html">Measure path</a></li>
</ul>
<p class="caption"><span class="caption-text">Map projection</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mapprojection/Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapprojection/Mercator.html">Mercator</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapprojection/UTM.html">UTM</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapprojection/EquidistantCylindrical.html">Equidistant Cylindrical</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapprojection/CylindricEqualArea.html">Cylindric Equal Area</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapprojection/Mollweide.html">Mollweide</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapprojection/KavrayskiyVII.html">Kavrayskiy VII</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapprojection/GallStereographic.html">Gall Stereographic</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="testing/mxs.html">Testing MaxScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing/CS.html">Testing .NET</a></li>
</ul>
<p class="caption"><span class="caption-text">Floating licenses</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="floatinglicense/Overview.html">Floating license overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="floatinglicense/LicenseServer.html">License server</a></li>
<li class="toctree-l1"><a class="reference internal" href="floatinglicense/Client.html">License client</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Maproom</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Stylesheet</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Stylesheet.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="stylesheet">
<span id="id1"></span><h1>Stylesheet<a class="headerlink" href="#stylesheet" title="Permalink to this headline">¶</a></h1>
<p>A stylesheet is a set of rules which can be applied to shapes imported from openstreetmap. The rules from the stylesheet generate geometry from the shapes. This can be used to quickly create a built environment with buildings, roads, waterways and so on. The geometry is pretty generic but adapts to the labels attached to the osm shapes. For instance you can define a rule to extrude apartment buildings 24 meters high and industrial buildings 12 meters. If the rule encounters a shape with the label “apartment” or “industrial” it will pick the right height to extrude. You can also define the width of specific road types and apply colors to the objects.</p>
<div class="figure">
<img alt="_images/MPR_2016-03-01_1897.png" src="_images/MPR_2016-03-01_1897.png" />
</div>
<p>From shapes</p>
<div class="figure">
<img alt="_images/Weimar_style.jpg" src="_images/Weimar_style.jpg" />
</div>
<p>To geometry in one step</p>
<div class="section" id="system-and-user-styles">
<h2>System and user styles<a class="headerlink" href="#system-and-user-styles" title="Permalink to this headline">¶</a></h2>
<p>Maproom ships with a system style. This style gets you going. It’s also very easy to create your own. You can either start from scratch or copy the default one and modify it. In the settings panel you can manage the location for user stylesheets. <a class="reference internal" href="Settings.html#settings-stylesheets"><span class="std std-ref">Check that out here</span></a>. The list of stylesheets show system stylesheets with the prefix “sys” and user stylesheets with the prefix “user”. A style is applied to shapes which match the name of the style. It helps to make yourself familiar with the names of osm shapes. Just download a piece of osm data with Maproom and look at the object names. That will help you understand styles more easily.</p>
<div class="figure">
<img alt="_images/MPR_2016-03-02_1910.png" src="_images/MPR_2016-03-02_1910.png" />
</div>
<p>The stylesheet panel. Pick a stylesheet and apply it.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Watch out to keep your modified stylesheets outside of the Maproom installation folder as they’ll be reset when you update Maproom.</p>
</div>
</div>
<div class="section" id="create-a-style">
<h2>Create a style<a class="headerlink" href="#create-a-style" title="Permalink to this headline">¶</a></h2>
<p>There are currently four styles you can apply. Besides that you can assign colors to items in the stylesheet.</p>
<blockquote>
<div><ul class="simple">
<li>Mass: adds height to closed shapes, for instance buildings</li>
<li>Stroke: sweeps a rectangular profile along a shape, for instance a road</li>
<li>Fill: fills closed shapes as flat geometry, for instance parks or parking areas</li>
<li>Skip: skips over this style</li>
</ul>
</div></blockquote>
<div class="section" id="mass">
<h3>Mass<a class="headerlink" href="#mass" title="Permalink to this headline">¶</a></h3>
<p>There are two levels to this system: generic styles and sub styles. You can assign a style to all <code class="docutils literal"><span class="pre">building</span></code> shapes, that’s the first level. Once you’ve created this general building style you can assign refined styles to specific types of buildings, such as <code class="docutils literal"><span class="pre">building=school</span></code> or <code class="docutils literal"><span class="pre">building=church</span></code>. These specific styles override the generic style of that type but they also inherit from it. It would look something like this.</p>
<div class="figure">
<img alt="_images/MPR_2016-03-01_1898.png" src="_images/MPR_2016-03-01_1898.png" />
</div>
<p>Mass example</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">mass example</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-ini"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">[building]</span>
<span class="na">type</span><span class="o">=</span><span class="s">mass</span>
<span class="na">range</span><span class="o">=</span><span class="s">[9,12]</span>
<span class="na">color</span><span class="o">=</span><span class="s">[190,124,90]</span>
<span class="k">[building=school]</span>
<span class="na">color</span><span class="o">=</span><span class="s">[25,206,140]</span>
<span class="k">[building=church]</span>
<span class="na">range</span><span class="o">=</span><span class="s">[24,36]</span>
<span class="na">color</span><span class="o">=</span><span class="s">[20,20,70]</span>
</pre></div>
</td></tr></table></div>
</div>
<p>In this example there’s a generic <code class="docutils literal"><span class="pre">building</span></code> style. The type is <code class="docutils literal"><span class="pre">mass</span></code> which means that all shapes which are buildings will be extruded. An extrusion range is defined with <code class="docutils literal"><span class="pre">range=[9,12]</span></code> which means that these buildings will be extruded randomly between 9 and 12 meters. These buildings also get a color. Please note these colors are also slightly randomized to get a lively feel. After that there’s a refined building style for <code class="docutils literal"><span class="pre">building=school</span></code>. This style only applies to shapes with that specific name and defines a single color, nothing else. All other properties are inherited from the <code class="docutils literal"><span class="pre">building</span></code> style. This means schools will be extruded within the same height range as the normal buildings, they only get a different color. Finally there’s style for <code class="docutils literal"><span class="pre">building=church</span></code>. This style specifies both a range for extrusion and a color.</p>
<p>There are three special cases with the buildings, these are <code class="docutils literal"><span class="pre">building:height</span></code> <code class="docutils literal"><span class="pre">building:levels</span></code> and <code class="docutils literal"><span class="pre">height</span></code>. These are all buildings which have height data embedded. Any extrusion range you specify will be ignored and the height information from openstreetmap will be used instead.</p>
<div class="figure">
<img alt="_images/MPR_2016-03-02_1910_02.png" src="_images/MPR_2016-03-02_1910_02.png" />
</div>
<p>For a quick modification of the building heights you can change the height multiplier.</p>
</div>
<div class="section" id="stroke">
<h3>Stroke<a class="headerlink" href="#stroke" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">stroke</span></code> type is very suitable for roads. A stroke is created with a sweep modifier. A rectangular profile is used which has a width and length. The length in our case refers to the thickness of the road.</p>
<div class="figure">
<img alt="_images/MPR_2016-03-01_1899.png" src="_images/MPR_2016-03-01_1899.png" />
</div>
<p>Stroke example</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">stroke example</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-ini"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">[highway]</span>
<span class="na">type</span><span class="o">=</span><span class="s">stroke</span>
<span class="na">length</span><span class="o">=</span><span class="s">0.5</span>
<span class="na">width</span><span class="o">=</span><span class="s">5</span>
<span class="na">color</span><span class="o">=</span><span class="s">[30,30,30]</span>
<span class="k">[highway=service]</span>
<span class="na">width</span><span class="o">=</span><span class="s">3</span>
<span class="k">[highway=footway]</span>
<span class="na">width</span><span class="o">=</span><span class="s">2</span>
<span class="na">color</span><span class="o">=</span><span class="s">[200,200,200]</span>
<span class="k">[highway=cycleway]</span>
<span class="na">width</span><span class="o">=</span><span class="s">2</span>
<span class="na">color</span><span class="o">=</span><span class="s">[180,90,90]</span>
</pre></div>
</td></tr></table></div>
</div>
<p>This example contains a generic <code class="docutils literal"><span class="pre">highway</span></code> style which is applied to all highway shapes in the scene. The style has a length (the thickness of the road) of 0.5 meters and a width of 5 meters and a dark grey color. Then there are thre sub-styles. One for <code class="docutils literal"><span class="pre">highway=service</span></code> which has a smaller width and two for <code class="docutils literal"><span class="pre">highway=cycleway</span></code> and <code class="docutils literal"><span class="pre">highway=footway</span></code> both of which are narrower and have a different color. Note that none of the sub-styles specify a length which means they inherit it from the generic <code class="docutils literal"><span class="pre">highway</span></code> style.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">push example</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-ini"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">[railway=subway]</span>
<span class="na">type</span><span class="o">=</span><span class="s">stroke</span>
<span class="na">length</span><span class="o">=</span><span class="s">12</span>
<span class="na">width</span><span class="o">=</span><span class="s">12</span>
<span class="na">color</span><span class="o">=</span><span class="s">[30,30,180]</span>
<span class="na">push</span> <span class="o">=</span> <span class="s">-25</span>
</pre></div>
</td></tr></table></div>
</div>
<p>Here’s an example of the <code class="docutils literal"><span class="pre">push</span></code> property of stroke-styles. The push property moves the affected objects up or down. In this case the <code class="docutils literal"><span class="pre">railway=subway</span></code> objects will be pushed -25 meters (that’s downwards) which is appropriate for subways.</p>
</div>
<div class="section" id="fill">
<h3>Fill<a class="headerlink" href="#fill" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">fill</span></code> type fills in flat areas such as landuse, parks or parking areas. Since the imported osm shapes all lie in the ground-plane there will be extensive z-fighting. The styling system fixes this by slightly spacing fill type objects apart. The z-order is determined by the order of the styles in the ini-file. Styles defined at the top will lie on top in the 3D stack. The distance between the fill items can be tweaked.</p>
<div class="figure">
<img alt="_images/MPR_2016-03-02_1910_01.png" src="_images/MPR_2016-03-02_1910_01.png" />
</div>
<p>Spacing is set to 2 centimeters</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A small spacing, like 2 centimeters, will likely not help with z-fighting in the viewport, but it will fix z-fighting in a render.</p>
</div>
<div class="figure">
<img alt="_images/MPR_2016-03-01_1900.png" src="_images/MPR_2016-03-01_1900.png" />
</div>
<p>Fill example</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">fill example</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-ini"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">[waterway]</span>
<span class="na">type</span><span class="o">=</span><span class="s">fill</span>
<span class="na">color</span><span class="o">=</span><span class="s">[20,40,120]</span>
<span class="k">[leisure=pitch]</span>
<span class="na">color</span><span class="o">=</span><span class="s">[20,40,190]</span>
<span class="k">[leisure]</span>
<span class="na">type</span> <span class="o">=</span> <span class="s">fill</span>
<span class="na">color</span> <span class="o">=</span> <span class="s">[50,180,20]</span>
<span class="k">[landuse=forest]</span>
<span class="na">color</span><span class="o">=</span><span class="s">[20,80,15]</span>
<span class="k">[amenity]</span>
<span class="na">type</span><span class="o">=</span><span class="s">fill</span>
<span class="na">color</span><span class="o">=</span><span class="s">[20,20,20]</span>
<span class="k">[landuse]</span>
<span class="na">type</span><span class="o">=</span><span class="s">fill</span>
<span class="na">color</span><span class="o">=</span><span class="s">[180,50,60]</span>
<span class="k">[natural]</span>
<span class="na">type</span><span class="o">=</span><span class="s">fill</span>
<span class="na">color</span><span class="o">=</span><span class="s">[20,160,10]</span>
<span class="k">[leisure=park]</span>
<span class="na">color</span><span class="o">=</span><span class="s">[35,120,5]</span>
</pre></div>
</td></tr></table></div>
</div>
<p>This example illustrates a bunch of fill styles. Note the generic <code class="docutils literal"><span class="pre">leisure</span></code> style and the sub-styles <code class="docutils literal"><span class="pre">leisure=pitch</span></code> and <code class="docutils literal"><span class="pre">leisure=park</span></code> are placed apart. The styles at the bottom are placed lower than the styles at the top. Also note the sub-style is allowed to be defined later (lower) than the generic style.</p>
</div>
<div class="section" id="skip">
<h3>Skip<a class="headerlink" href="#skip" title="Permalink to this headline">¶</a></h3>
<p>A shape only is turned into geometry if it matches with one of the styles in the stylesheet. If you’ve downloaded a full set of osm data with buildings, roads, parks and rivers you only get geometry shapes you’ve defined a style for. Once you’ve done that, you might want to selectively turn off some of those styles because they clutter. This is the case with the <code class="docutils literal"><span class="pre">route</span></code> objects for instance. For these cases, when you don’t want to delete the style, but you do want to hide the objects, there’s the <code class="docutils literal"><span class="pre">skip</span></code> type.</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">skip example</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-ini"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">[route]</span>
<span class="na">type</span><span class="o">=</span><span class="s">skip</span>
<span class="na">length</span><span class="o">=</span><span class="s">1</span>
<span class="na">width</span><span class="o">=</span><span class="s">1</span>
<span class="na">color</span><span class="o">=</span><span class="s">[255,0,0]</span>
<span class="na">push</span> <span class="o">=</span> <span class="s">20</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>
<div class="section" id="video">
<h2>Video<a class="headerlink" href="#video" title="Permalink to this headline">¶</a></h2>
<iframe width="700" height="394" src="https://www.youtube.com/embed/3l6OY2cDiac?rel=0" frameborder="0" allowfullscreen></iframe><p>Let’s wrap it up with a video</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Installation.html" class="btn btn-neutral float-right" title="Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Height.html" class="btn btn-neutral" title="Height" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Klaas Nienhuis.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>